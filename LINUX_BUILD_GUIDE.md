# Linux ç¼–è¯‘æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°† Rust + Qt æ‰«ç ç”Ÿäº§çœ‹æ¿é¡¹ç›®ç¼–è¯‘æˆ Linux å¯æ‰§è¡Œæ–‡ä»¶ã€‚

## ğŸ› ï¸ ç¼–è¯‘æ–¹å¼

### æ–¹å¼ä¸€ï¼šç›´æ¥ç¼–è¯‘ï¼ˆæ¨èï¼‰

åœ¨ Linux ç³»ç»Ÿä¸Šç›´æ¥ç¼–è¯‘ï¼š

```bash
# 1. ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x build_linux_simple.sh

# 2. è¿è¡Œç¼–è¯‘è„šæœ¬
./build_linux_simple.sh
```

**ç³»ç»Ÿè¦æ±‚ï¼š**
- Ubuntu 18.04+ / CentOS 7+ / Fedora 30+
- ç½‘ç»œè¿æ¥ï¼ˆç”¨äºä¸‹è½½ä¾èµ–ï¼‰

### æ–¹å¼äºŒï¼šDocker ç¼–è¯‘

ä½¿ç”¨ Docker å®¹å™¨ç¼–è¯‘ï¼ˆè·¨å¹³å°ï¼‰ï¼š

```bash
# 1. ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x build_docker_linux.sh

# 2. è¿è¡Œ Docker ç¼–è¯‘è„šæœ¬
./build_docker_linux.sh
```

**ç³»ç»Ÿè¦æ±‚ï¼š**
- Docker 20.0+
- ç½‘ç»œè¿æ¥

### æ–¹å¼ä¸‰ï¼šWindows ç¯å¢ƒç¼–è¯‘

åœ¨ Windows ä¸Šä½¿ç”¨ WSL æˆ– Dockerï¼š

```bash
# è¿è¡Œ Windows æ‰¹å¤„ç†è„šæœ¬
build_linux_complete.bat
```

ç„¶åé€‰æ‹©ï¼š
- é€‰é¡¹ 1ï¼šä½¿ç”¨ Docker ç¼–è¯‘
- é€‰é¡¹ 2ï¼šä½¿ç”¨ WSL ç¼–è¯‘
- é€‰é¡¹ 3ï¼šç”Ÿæˆ Linux ç¼–è¯‘è„šæœ¬

## ğŸ“¦ ç¼–è¯‘ç»“æœ

ç¼–è¯‘å®Œæˆåï¼Œæ‚¨å°†å¾—åˆ°ä»¥ä¸‹æ–‡ä»¶ï¼š

```
é¡¹ç›®ç›®å½•/
â”œâ”€â”€ target/release/scan_demo          # Rust åç«¯å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ qt_frontend/build/bin/ScanDemoFrontend  # Qt å‰ç«¯å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ start_backend.sh                  # åç«¯å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start_frontend.sh                 # å‰ç«¯å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start_complete.sh                 # å®Œæ•´åº”ç”¨å¯åŠ¨è„šæœ¬
â””â”€â”€ scan-demo-linux-*.tar.gz         # éƒ¨ç½²åŒ…
```

## ğŸš€ è¿è¡Œåº”ç”¨

### å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
./start_complete.sh
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. è‡ªåŠ¨å¯åŠ¨åç«¯æœåŠ¡
2. å¯åŠ¨å‰ç«¯åº”ç”¨
3. å¤„ç†ç«¯å£å†²çªæ£€æµ‹

### åˆ†åˆ«å¯åŠ¨

```bash
# ç»ˆç«¯1ï¼šå¯åŠ¨åç«¯
./start_backend.sh

# ç»ˆç«¯2ï¼šå¯åŠ¨å‰ç«¯
./start_frontend.sh
```

### ç›´æ¥è¿è¡Œ

```bash
# å¯åŠ¨åç«¯
./target/release/scan_demo

# å¯åŠ¨å‰ç«¯
./qt_frontend/build/bin/ScanDemoFrontend
```

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

- `API_BASE_URL`: å‰ç«¯è¿æ¥çš„åç«¯åœ°å€ï¼ˆé»˜è®¤ï¼šhttp://localhost:3000ï¼‰
- `DATABASE_URL`: æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ï¼ˆé»˜è®¤ï¼šsqlite:scan_demo.dbï¼‰
- `EXTERNAL_API_URL`: å¤–éƒ¨APIåœ°å€ï¼ˆé»˜è®¤ï¼šhttps://httpbin.org/postï¼‰

### ç«¯å£é…ç½®

- åç«¯é»˜è®¤ç«¯å£ï¼š3000
- å¯é€šè¿‡ä¿®æ”¹ `src/main.rs` ä¸­çš„ç«¯å£é…ç½®

### æ•°æ®åº“

- é»˜è®¤ä½¿ç”¨ SQLite æ•°æ®åº“ï¼š`scan_demo.db`
- é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“å’Œè¡¨ç»“æ„

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **Qt5 åº“ç¼ºå¤±**
   ```bash
   # Ubuntu/Debian
   sudo apt-get install qt5-default qtbase5-dev
   
   # CentOS/RHEL
   sudo yum install qt5-qtbase
   
   # Fedora
   sudo dnf install qt5-qtbase
   ```

2. **æƒé™é—®é¢˜**
   ```bash
   chmod +x target/release/scan_demo
   chmod +x qt_frontend/build/bin/ScanDemoFrontend
   chmod +x start_*.sh
   ```

3. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æŸ¥çœ‹ç«¯å£å ç”¨
   netstat -tlnp | grep 3000
   
   # æ€æ­»å ç”¨è¿›ç¨‹
   sudo kill -9 <PID>
   ```

4. **ç¼–è¯‘å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
   - æ£€æŸ¥ç³»ç»Ÿä¾èµ–æ˜¯å¦å®Œæ•´å®‰è£…

### æ—¥å¿—æŸ¥çœ‹

- åç«¯æ—¥å¿—ï¼š`backend.log`
- ç³»ç»Ÿæ—¥å¿—ï¼š`journalctl -u scan-demo`

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### è¿è¡Œæ—¶è¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Linux (Ubuntu 18.04+, CentOS 7+, Fedora 30+)
- **å†…å­˜**: æœ€å°‘ 512MBï¼Œæ¨è 1GB+
- **ç£ç›˜**: æœ€å°‘ 100MB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç”¨äºå¤–éƒ¨APIè°ƒç”¨

### ç¼–è¯‘æ—¶è¦æ±‚

- **Rust**: 1.70+
- **Qt5**: 5.12+
- **CMake**: 3.16+
- **GCC**: 7.0+
- **pkg-config**

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

### æ›´æ–°åº”ç”¨

1. åœæ­¢è¿è¡Œä¸­çš„åº”ç”¨
2. é‡æ–°ç¼–è¯‘
3. æ›¿æ¢å¯æ‰§è¡Œæ–‡ä»¶
4. é‡å¯åº”ç”¨

### æ•°æ®å¤‡ä»½

```bash
# å¤‡ä»½æ•°æ®åº“
cp scan_demo.db scan_demo.db.backup

# å¤‡ä»½é…ç½®æ–‡ä»¶
cp .env .env.backup
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. ç³»ç»Ÿä¾èµ–æ˜¯å¦å®Œæ•´å®‰è£…
2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
3. ç«¯å£æ˜¯å¦è¢«å ç”¨
4. æ—¥å¿—æ–‡ä»¶ä¸­çš„é”™è¯¯ä¿¡æ¯

## ğŸ“ ç‰ˆæœ¬ä¿¡æ¯

- **é¡¹ç›®ç‰ˆæœ¬**: 0.1.0
- **Rustç‰ˆæœ¬**: 1.70+
- **Qtç‰ˆæœ¬**: 5.12+
- **æœ€åæ›´æ–°**: 2024å¹´
